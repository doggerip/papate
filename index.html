<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon événement & Suivi des Vols</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
<header class="hero-section">
    <div class="hero-content">
        <h1>Compte à Rebours</h1>
        <p>Il ne reste plus que :</p>
        <div class="countdown" id="countdown"></div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <p class="progress-text">Progression vers la date cible</p>
    </div>
</header>

<main class="main-content">
    <div class="tabs-container">
        <div class="tabs">
            <button class="tab-button active" data-tab="home">Accueil</button>
            <button class="tab-button" data-tab="flights">Suivi des Vols</button>
            <button class="tab-button" data-tab="live-map">Carte des vols en direct</button>
        </div>

        <div id="home" class="tab-content active">
            <section class="card time-zones-section">
                <h2>Heures Locales</h2>
                <div class="zone-cards-wrapper">
                    <div class="zone-card france" data-timezone="Europe/Paris">
                        <div class="zone-header">
                            <i class="fas fa-city icon"></i>
                            <h3 class="zone-name">Nantes, France</h3>
                        </div>
                        <div class="time-display" id="frenchTime"></div>
                        <p class="message" id="messageNantes"></p>
                        <div class="time-icon"></div>
                    </div>

                    <div class="zone-card quebec" data-timezone="America/Montreal">
                        <div class="zone-header">
                            <i class="fas fa-map-marker-alt icon"></i>
                            <h3 class="zone-name">Montréal, Canada</h3>
                        </div>
                        <div class="time-display" id="canadianTime"></div>
                        <p class="message" id="messageMontreal"></p>
                        <div class="time-icon"></div>
                    </div>
                </div>
            </section>

            <section class="card daily-quiz-section">
                <h2>Quiz du Jour : Le Saviez-Vous ?</h2>
                <div class="quiz-card">
                    <p id="quiz-question">Chargement de la question...</p>
                    <div class="quiz-options" id="quiz-options">
                    </div>
                    <p class="quiz-result" id="quiz-result"></p>
                    <button id="next-question-btn" class="btn" style="display:none;">Question Suivante</button>
                </div>
            </section>

            <section class="card fun-stats-section">
                <h2>Statistique Amusante</h2>
                <div class="fun-stats-card">
                    <p id="funStatText">Chargement d'une statistique...</p>
                </div>
            </section>

            <section class="card game-section">
                <h2>Mini-jeu : Devinette Numérique</h2>
                <p>Devine un nombre entre 1 et 10 :</p>
                <div class="game-controls">
                    <input type="number" id="guessInput" min="1" max="10" placeholder="Ton chiffre">
                    <button class="btn" onclick="checkGuess()">Valider</button>
                </div>
                <p class="game-result" id="guessResult"></p>
            </section>

            <section class="card daily-expression-section">
                <h2>Expression du Jour (Anglais)</h2>
                <div class="expression-card">
                    <p id="english-expression">Chargement de l'expression...</p>
                    <p id="french-translation" class="translation-hidden"></p>
                    <button id="reveal-translation-btn" class="btn reveal-btn">Révéler la traduction</button>
                    <button id="next-expression-btn" class="btn next-btn" style="display:none;">Autre expression</button>
                </div>
            </section>
        </div>

        <div id="flights" class="tab-content">
            <section class="card flight-tracking-section">
                <h2>Rechercher un vol en direct</h2>
                <div class="flight-input">
                    <input type="text" id="flightCallsignInput" placeholder="Ex: AFR123 (indicatif d'appel)">
                    <button id="searchFlightBtn" class="btn">Rechercher</button>
                </div>
                <p class="click-info">Cliquez sur une ligne du tableau pour voir le vol sur la carte.</p>
                <div class="message" id="searchMessage"></div>
            </section>

            <section class="card flight-tracking-section">
                <h2>Vols par aéroport (dernières 24h)</h2>
                <div class="airport-buttons">
                    <h3>Départs</h3>
                    <button class="btn" id="departuresLFRS" data-icao="LFRS" data-type="departure">Départs Nantes (LFRS)</button>
                    <button class="btn" id="departuresCYUL" data-icao="CYUL" data-type="departure">Départs Montréal (CYUL)</button>
                    <h3>Arrivées</h3>
                    <button class="btn" id="arrivalsLFRS" data-icao="LFRS" data-type="arrival">Arrivées Nantes (LFRS)</button>
                    <button class="btn" id="arrivalsCYUL" data-icao="CYUL" data-type="arrival">Arrivées Montréal (CYUL)</button>
                </div>
                <div class="message" id="airportMessage"></div>
            </section>

            <section class="card flight-tracking-section">
                <h2>Résultats des vols</h2>
                <div class="flight-results-container">
                    <table id="flightResultsTable">
                        <thead>
                        <tr>
                        </tr>
                        </thead>
                        <tbody id="flightResultsTableBody">
                        <tr>
                            <td colspan="9" id="noFlightResults">Aucun vol trouvé pour le moment.</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <div id="live-map" class="tab-content">
            <section class="card live-map-section">
                <h2>Carte des vols en direct</h2>
                <p>Visualisation des vols en temps réel dans une zone donnée.</p>
                <div class="map-controls">
                    <label for="zoomLevel">Niveau de zoom :</label>
                    <input type="range" id="zoomLevel" min="1" max="10" value="5">
                    <span id="currentZoom">5</span>
                    <button id="resetMapBtn" class="btn">Réinitialiser la vue</button>
                </div>
                <div id="liveFlightMap" style="height: 800px; width: 100%;"></div>
                <div class="message" id="liveMapMessage"></div>
            </section>
        </div>
    </div>
</main>

<footer class="footer">
    <p>&copy; 2025 Mon Site Sympathique. Tous droits réservés.</p>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

<script src="./js/quizData.js"></script>
<script src="./js/script.js"></script>
</body>
</html>